apiVersion: v1
items:
- apiVersion: helm.cattle.io/v1
  kind: HelmChart
  metadata:
    annotations:
      helmcharts.cattle.io/managed-by: helm-controller
    creationTimestamp: "2024-08-06T01:56:40Z"
    finalizers:
    - wrangler.cattle.io/on-helm-chart-remove
    generation: 2
    managedFields:
    - apiVersion: helm.cattle.io/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"e9a6d512-4385-4f17-a5a1-6e645cf16669"}: {}
        f:spec:
          .: {}
          f:chart: {}
          f:repo: {}
          f:valuesContent: {}
          f:version: {}
        f:status: {}
      manager: harvester
      operation: Update
      time: "2024-08-06T01:56:40Z"
    - apiVersion: helm.cattle.io/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:metadata:
          f:annotations:
            .: {}
            f:helmcharts.cattle.io/managed-by: {}
          f:finalizers:
            .: {}
            v:"wrangler.cattle.io/on-helm-chart-remove"null: {}
        f:status:
          f:jobName: {}
      manager: helm-controller@harvesterdev1
      operation: Update
      time: "2024-08-06T01:56:42Z"
    name: rancher-monitoring
    namespace: cattle-monitoring-system
    ownerReferences:
    - apiVersion: harvesterhci.io/v1beta1
      kind: Addon
      name: rancher-monitoring
      uid: e9a6d512-4385-4f17-a5a1-6e645cf16669
    resourceVersion: "6796"
    uid: 8b2127eb-9f58-4177-afca-b27c78bb4180
  spec:
    chart: rancher-monitoring
    repo: http://harvester-cluster-repo.cattle-system.svc/charts
    valuesContent: |
      alertmanager:
        enabled: true
        config:
          global:
            resolve_timeout: 5m
        service:
          port: 9093
        alertmanagerSpec:
          externalUrl: "https://10.10.110.100/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-alertmanager:9093/proxy/"
          retention: 120h
          storage:
            volumeClaimTemplate:
              spec:
                storageClassName: harvester-longhorn
                accessModes:
                - ReadWriteOnce
                resources:
                  requests:
                    storage: 5Gi
          resources:
            limits:
              memory: 600Mi
              cpu: 1000m
            requests:
              memory: 100Mi
              cpu: 100m
      grafana:
        persistence:
          enabled: true
          size: 2Gi
          storageClassName: harvester-longhorn
          type: pvc
          accessModes:
          - ReadWriteOnce
        resources:
          limits:
            cpu: 200m
            memory: 500Mi
          requests:
            cpu: 100m
            memory: 200Mi
      prometheus:
        service:
          port: 9090
        prometheusSpec:
          evaluationInterval: 1m
          resources:
            limits:
              cpu: 1000m
              memory: 2500Mi
            requests:
              cpu: 750m
              memory: 1750Mi
          retention: 5d
          retentionSize: 50GiB
          scrapeInterval: 1m
          storageSpec:
            volumeClaimTemplate:
              spec:
                accessModes:
                - ReadWriteOnce
                resources:
                  requests:
                    storage: 50Gi
                storageClassName: harvester-longhorn
                volumeMode: Filesystem
          externalUrl: "https://10.10.110.100/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/"
      prometheus-node-exporter:
        resources:
          limits:
            cpu: 200m
            memory: 180Mi
          requests:
            cpu: 100m
            memory: 30Mi
    version: 103.0.3+up45.31.1
  status:
    jobName: helm-install-rancher-monitoring
kind: List
metadata:
  continue: "null"
  resourceVersion: "770237"
